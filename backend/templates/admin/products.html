{% extends "base.html" %}
{% block content %}
<h2>Products</h2>

<div class="card">
  <h3>Create product</h3>
  <form method="post" action="/admin/products/create">
    <div class="row">
      <div class="col">
        <label class="muted">Name</label>
        <input name="name" placeholder="Name" required>
      </div>
      <div class="col" style="max-width:140px">
        <label class="muted">Days</label>
        <input name="days" placeholder="30" required>
      </div>
      <div class="col" style="max-width:160px">
        <label class="muted">Price (INR)</label>
        <input name="price_inr" placeholder="499">
      </div>
      <div class="col" style="max-width:180px">
        <label class="muted">Price (USDT)</label>
        <input name="price_usdt" placeholder="7.0">
      </div>
    </div>
    <div class="row">
      <div class="col">
        <label class="muted">Description</label>
        <input name="description" placeholder="e.g. 30-day access">
      </div>
      <div class="col" style="max-width:200px">
        <label class="muted">&nbsp;</label>
        <button class="btn ok" type="submit">Create</button>
      </div>
    </div>
  </form>
</div>

<div class="card">
  <h3>Existing products</h3>
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Days</th>
        <th>INR</th>
        <th>USDT</th>
        <th>Active</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      {% for p in items %}
      <tr>
        <td>#{{ p.id }}</td>
        <td>{{ p.name }}</td>
        <td>{{ p.days }}</td>
        <td>{{ p.price_inr or '' }}</td>
        <td>{{ p.price_usdt or '' }}</td>
        <td>{{ 'Yes' if p.active else 'No' }}</td>
        <td>
          <form class="inline" method="post" action="/admin/products/update">
            <input type="hidden" name="id" value="{{ p.id }}">
            <input name="name" placeholder="name" value="{{ p.name }}" style="max-width:160px">
            <input name="days" placeholder="days" value="{{ p.days }}" style="max-width:80px">
            <input name="price_inr" placeholder="INR" value="{{ p.price_inr }}" style="max-width:110px">
            <input name="price_usdt" placeholder="USDT" value="{{ p.price_usdt }}" style="max-width:110px">
            <select name="active" style="max-width:120px">
              <option value="1" {% if p.active %}selected{% endif %}>Active</option>
              <option value="0" {% if not p.active %}selected{% endif %}>Inactive</option>
            </select>
            <button class="btn" type="submit">Save</button>
          </form>
        </td>
      </tr>
      {% endfor %}
    </tbody>
  </table>
</div>
{% endblock %}
